# ============================================================================
# Property Management System - Environment Variables
# ============================================================================
# Copy this file to .env and update with your actual values
# SECURITY: Never commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# MariaDB/MySQL connection settings

DB_HOST=localhost
DB_PORT=3306
DB_NAME=property_management
DB_USER=propman_prod
DB_PASS=CHANGE_THIS_TO_A_STRONG_PASSWORD

# Database connection pool settings (optional)
DB_MAX_CONNECTIONS=10
DB_TIMEOUT=30


# ----------------------------------------------------------------------------
# Application Secrets
# ----------------------------------------------------------------------------
# CRITICAL: Generate strong random values for production!
# Use: openssl rand -base64 64

# JWT token signing secret (minimum 64 characters)
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_AT_LEAST_64_CHARACTERS_LONG

# Session encryption key (minimum 64 characters)
SESSION_SECRET=CHANGE_THIS_TO_ANOTHER_VERY_LONG_RANDOM_STRING_AT_LEAST_64_CHARS

# Session cookie key (minimum 32 characters)
SESSION_COOKIE_KEY=CHANGE_THIS_TO_A_RANDOM_STRING_FOR_SESSION_COOKIES


# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------

# Environment: development, production, testing
APP_ENV=production

# Application port (backend API)
APP_PORT=5000

# Base URL for the application
APP_BASE_URL=https://property.yourdomain.com

# Logging level: core, debug, info, warning, error
LOG_LEVEL=core

# Log file path
LOG_PATH=/var/log/property-manager/app.log


# ----------------------------------------------------------------------------
# External APIs
# ----------------------------------------------------------------------------

# BNR (Romanian National Bank) Exchange Rate API
BNR_API_URL=https://www.bnr.ro/nbrfxrates.xml

# API timeout in seconds
API_TIMEOUT=30


# ----------------------------------------------------------------------------
# PDF Generation
# ----------------------------------------------------------------------------

# Temporary directory for PDF generation
PDF_TEMP_DIR=/tmp/property_invoices

# PDF generation timeout (seconds)
PDF_TIMEOUT=60


# ----------------------------------------------------------------------------
# Email Configuration (Optional)
# ----------------------------------------------------------------------------
# Configure if using email notifications for invoices/alerts

# SMTP Server settings
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourdomain.com
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=noreply@yourdomain.com
SMTP_FROM_NAME=Property Management System

# Use TLS/SSL
SMTP_TLS=true
SMTP_SSL=false


# ----------------------------------------------------------------------------
# File Upload Settings
# ----------------------------------------------------------------------------

# Maximum upload size in bytes (5MB default)
MAX_UPLOAD_SIZE=5242880

# Allowed file extensions (comma-separated)
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,doc,docx,xls,xlsx

# Upload directory
UPLOAD_DIR=/opt/property-manager/uploads


# ----------------------------------------------------------------------------
# Security Settings
# ----------------------------------------------------------------------------

# Bcrypt cost factor (10-14 recommended, higher = slower but more secure)
BCRYPT_COST=12

# Maximum login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration in seconds (15 minutes = 900 seconds)
LOCKOUT_DURATION=900

# JWT token expiration in seconds (8 hours = 28800 seconds)
JWT_EXPIRATION=28800

# CSRF token expiration in seconds (1 hour = 3600 seconds)
CSRF_EXPIRATION=3600


# ----------------------------------------------------------------------------
# CORS Settings (Development Only - Disable in Production)
# ----------------------------------------------------------------------------

# Enable CORS (set to false in production with Nginx)
CORS_ENABLED=false

# Allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Allow credentials
CORS_ALLOW_CREDENTIALS=true


# ----------------------------------------------------------------------------
# Backup Settings
# ----------------------------------------------------------------------------

# Backup directory
BACKUP_DIR=/opt/property-manager/backups

# Number of days to keep backups
BACKUP_RETENTION_DAYS=30

# S3 bucket for backup storage (optional)
# Requires aws-cli configured with credentials
S3_BACKUP_BUCKET=

# Backup notification email (optional)
BACKUP_EMAIL=admin@yourdomain.com


# ----------------------------------------------------------------------------
# Feature Flags (Optional)
# ----------------------------------------------------------------------------

# Enable/disable specific features
FEATURE_EMAIL_NOTIFICATIONS=false
FEATURE_PDF_GENERATION=true
FEATURE_AUTO_EXCHANGE_RATES=true
FEATURE_METER_READINGS=true


# ----------------------------------------------------------------------------
# Performance Tuning
# ----------------------------------------------------------------------------

# Enable caching
CACHE_ENABLED=true

# Cache TTL in seconds (1 hour = 3600)
CACHE_TTL=3600

# Database query timeout (seconds)
DB_QUERY_TIMEOUT=30


# ----------------------------------------------------------------------------
# Monitoring & Analytics (Optional)
# ----------------------------------------------------------------------------

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Google Analytics ID (optional)
GA_TRACKING_ID=

# Application insights key (optional)
APPINSIGHTS_KEY=


# ----------------------------------------------------------------------------
# Development/Debug Settings
# ----------------------------------------------------------------------------
# These should be false/disabled in production!

# Enable debug mode (DO NOT enable in production!)
DEBUG=false

# Show detailed error messages
SHOW_ERRORS=false

# Enable SQL query logging
LOG_SQL_QUERIES=false

# Enable profiling
ENABLE_PROFILING=false


# ============================================================================
# End of Configuration
# ============================================================================
#
# SECURITY CHECKLIST FOR PRODUCTION:
# [ ] Changed all default passwords and secrets
# [ ] Generated strong random values for JWT_SECRET and SESSION_SECRET
# [ ] Set APP_ENV=production
# [ ] Disabled DEBUG mode
# [ ] Disabled CORS or configured properly
# [ ] Set appropriate LOG_LEVEL
# [ ] Configured database credentials correctly
# [ ] Set up SSL/TLS certificates
# [ ] Configured firewall rules
# [ ] Set up automated backups
# [ ] Restricted file permissions (chmod 600 .env)
# [ ] Never committed .env to version control
# ============================================================================
